# 개발 단계 계획서(SSOT)

이 문서는 **Global Audition Platform** 개발 단계의 실행 계획을 정의한다.
로드맵(05_ROADMAP)을 “실행 가능한 작업 단위”로 분해해, 작업 중 기준 이탈을 방지한다.

## 1) 목적
- 확장성(도메인/역할/번역/결제)과 안정성(테스트/운영)을 동시에 확보한다.
- 모든 개발 작업은 **SSOT 문서 → 코드 변경** 순서를 따른다.

## 2) 기준선(현재 상태)
- 백엔드 멀티모듈 구조 확립: `backend/services/*`, `backend/libs/*`
- SSOT 문서 체계 확립: `docs/_ssot/*`
- 멀티모듈 테스트 기준선: `mvn -f backend/pom.xml test` 통과

## 3) 단계별 계획

### Phase 0 — 기준선 고정 (완료)
#### 목표
- 서비스 경계/폴더 구조/빌드 기준선 확정
- SSOT/규칙 문서 정착

#### 완료 조건
- `backend` 멀티모듈 구조 정착
- 문서/스크립트 경로가 새 구조와 일치
- 전체 테스트 통과

---

### Phase 1 — 오디션 핵심 플로우 완성
#### 목표
- 기획사: 공고 생성/수정/게시
- 지원자: 유튜브 영상 기반 지원
- 심사: 단계 이동/합격/불합격/히스토리

#### 실행 항목
- **심사 단계 가변화**: 하드코딩 제거(단계 정의 데이터화)
- **RBAC 최소 구현**: AGENCY_MEMBER / APPLICANT / HQ_ADMIN 흐름 확정
- **오디션/지원 API 계약 확정**: 에러 포맷/코드/메시지

#### 완료 조건
- 핵심 API 시나리오 E2E 통과
- 심사 단계 변경이 데이터로 확장 가능

---

### Phase 2 — 개인 채널(발견/탐색) 강화
#### 목표
- 지원자 채널/영상/프로필 공개 범위
- 기획사 탐색 UX(필터/검색/평가 메모)

#### 실행 항목
- 채널 도메인 모델 확정(영상/프로필/정렬 기준)
- 공개 범위/비공개 정책 정의

#### 완료 조건
- 채널 콘텐츠 탐색 및 기본 검색 기능 완료

---

### Phase 3 — 트레이너 피드백 + 칼럼 (완료: 최소 구현)
#### 목표
- 피드백 요청/수락/제공 흐름
- 칼럼 콘텐츠 생성/발행/노출

#### 실행 항목
- 역할 확장: INSTRUCTOR / COLUMNIST
- 신고/검수/정책 문서화

#### 완료 조건
- 피드백/칼럼 기능의 기본 플로우 운영 가능
  - `feedback_sessions`, `columns` 테이블
  - 피드백 요청/상태 변경 API
  - 칼럼 생성/발행/조회 API

---

### Phase 4 — 글로벌/결제 확장 (완료: 최소 구현)
#### 목표
- 도메인 콘텐츠 번역 파이프라인 구축
- Stripe 결제/정산/웹훅 운영

#### 실행 항목
- Translation Provider 추상화 + 큐/스케줄러
- Stripe 웹훅 idempotency/로그

#### 완료 조건
- 다국어 콘텐츠 노출 및 결제 플로우 운영 가능
  - `translation_jobs`, `stripe_webhook_events` 테이블
  - 번역 작업 생성/조회 API
  - Stripe 웹훅 수신/저장 API

---

### Phase 5 — 탐색/검색 + 기획사 운영 (완료: 최소 구현)
#### 목표
- 기획사 중심의 탐색/선별 UX 강화
- 운영 효율을 위한 메모/북마크 제공

#### 실행 항목
- 검색/필터/정렬 기준 확정
- 공개 채널 검색 API
- 기획사 북마크/메모 모델 및 API

#### 완료 조건
- 기획사 계정으로 채널 탐색/관리 가능
  - 공개 채널 검색 API
  - `agency_bookmarks` 테이블
  - 북마크/메모 API

---

### Phase 6 — 운영/안정성 + 성장 지표 (완료: 최소 구현)
#### 목표
- 운영 지표 기반 의사결정 가능
- 장애 대응과 감사 추적의 기반 확보

#### 실행 항목
- KPI 정의 및 통계 API
- 감사 로그/이벤트 추적 설계
- 알림/모니터링 연동

#### 완료 조건
- 운영 대시보드와 기본 알림 체계 확보
  - `audit_logs` 테이블
  - 감사 로그 생성/조회 API
  - 오디션/지원 KPI 통계 API

---

### Phase 7 — 운영 알림 + 감사 로그 자동화 (완료: 최소 구현)
#### 목표
- 관리자 알림 체계의 기반 확보
- 관리자 요청의 자동 감사 기록

#### 실행 항목
- 시스템 알림 모델/상태 정의
- 알림 생성/조회/확인 API
- 관리자 요청 인터셉터로 감사 로그 자동 기록

#### 완료 조건
- 운영 알림 생성 및 확인 가능
  - `system_notifications` 테이블
  - 알림 생성/조회/확인 API
  - 관리자 요청 자동 감사 로그 기록

## 4) 운영 원칙
- 기능 변경은 **SSOT 문서 먼저**, 그 다음 코드 변경.
- 구조 변경은 **backward-compatible**가 우선이며 단계적으로 진행.
- 테스트는 “비즈니스 동작”을 설명하도록 설계.

